---
import { Icon } from "astro-icon/components";

const { type, className } = Astro.props;
---

<section
  class=`bg-black border-2 border-black overflow-hidden rounded-md flex flex-col justify-between ${className}`
>
  <div class="flex items-center justify-between px-2 py-1">
    <p class="text-sm text-gray-300">{type}</p>

    <button id="btn-copy">
      <Icon name="mdi:content-copy" title="Copy" class="text-sm text-gray-300" />
    </button>
  </div>

  <code
    id="code"
    class="flex w-full overflow-x-scroll text-nowrap bg-slate-900 p-4 text-sm text-gray-200 md:text-base"
  >
    <slot />
  </code>
</section>

<script>
  const btnCopy = document.getElementById("btn-copy");
  const code = document.getElementById("code");

  btnCopy!.onclick = () => {
    navigator.clipboard.writeText(code!.innerText);
  };
</script>
